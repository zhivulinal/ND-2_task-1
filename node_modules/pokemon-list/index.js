
// Экспортируем класс Pokemon
const Pokemon  = require('pokemon');
/**
* Создим класс PokemonList
* Экземпляры этого класса
* должны обладать всеми функциями массива.
* Для этого расширим объект Array
*/
module.exports = class PokemonList extends Array {
    constructor(...args) {
        // Модифицируем args добавим к каждой ячейке ID
        // используем valueOf класса Pokemon
        super(...args.map(
            item => new Pokemon(item.name, item.lvl)
        ))
    }
    
    // Используем класс Pokemon для создания ячейки и присвоим ей ID
    add(name, lvl) {
        this.push(new Pokemon(name, lvl))
    }
        
    // метод show , который выводит информацию о покемонах
    // и их общее количество в списке
    show()
    {
        
        console.log('Покемонов в списке: ' + this.length)
        
        // Используем цикл: forEach и метод show класса Pokemon
        this.forEach(item => new Pokemon(item.name, item.lvl).show())
    }
    
    remove(name) {
        
        // Найдем индекс ячейки с покемоном
        let index = this.findIndex(index => index.name == name)
        
        // Если покемон не найден
        if (index == -1) console.log('Нет покемона с таким именем')
        
        // Вернем объект с данными удаляемой ячейки
        return this.splice(index, 1).map(str => ({name: str.name, lvl: str.lvl}))
    }
    
    max() {
        
        let lvl = Math.max(...this)
        
        return this.find(item => item.lvl === lvl ? new Pokemon(item.name, item.lvl).show() : null)
    }
    
}